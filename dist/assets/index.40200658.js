var e=document.querySelector("input[name=mode]");let t=0,o=[];function n(){fetch("https://beer-bar.herokuapp.com/").then((e=>e.json())).then((e=>{console.log(e),function(e){let c=[],l=e.queue;document.querySelector("#tapsDisplay").innerHTML="",e.taps.forEach((e=>{const t=document.querySelector("#tapsTemplate").content.cloneNode(!0);let o=e.level/2500;window.matchMedia("(max-width: 1100px)").matches?t.querySelector(".liquidDiv").style.height=24*o+"vw":t.querySelector(".liquidDiv").style.height=11*o+"vw",e.beer=e.beer.replaceAll(" ",""),t.querySelector("img").src="./Images/"+e.beer.toLowerCase()+".png",t.querySelector("img").alt=e.beer.toLowerCase(),document.querySelector(".liquidDiv"),document.querySelector("#tapsDisplay").appendChild(t)})),e.bartenders.forEach((e=>{document.querySelector("#"+e.name+" .bartendname").innerHTML=e.name,document.querySelector("#"+e.name+" .bartendStat").innerHTML="Status : "+e.statusDetail,document.querySelector("#"+e.name+" .bartendServd").innerHTML="Serving client : "+e.servingCustomer,c.push(e.servingCustomer)})),3===c.length&&(c.sort(),document.querySelector(".served").innerHTML=c[0]-1);document.querySelector(".waiting").innerHTML=l.length,l.forEach((e=>{-1===o.findIndex((t=>t.id===e.id))&&(t+=e.order.length,console.log("elements are not here"))})),o=l,document.querySelector(".sold").innerHTML=t,setTimeout(n,5e3),setTimeout(r,1e4)}(e)}))}function r(){fetch("https://foobar-1293.restdb.io/rest/foormidable",{method:"get",headers:{"Content-Type":"application/json; charset=utf-8","x-apikey":"60a4dea0e3b6e02545edaa5d","cache-control":"no-cache"}}).then((e=>e.json())).then((e=>{document.querySelector(".orderList").innerHTML="",e.forEach(c),function(e){function t(t){console.log(t.target);let o=t.target.alt;function n(e){const t=document.querySelector("#modaleTempl").content.cloneNode(!0);t.querySelector("h2").textContent=e.table_id,t.querySelector("p").textContent="#"+e._id.substring(6,10),e.beers.forEach((e=>{const o=document.querySelector("#beerOrderTemp").content.cloneNode(!0);o.querySelector(".beername").textContent=e.name,o.querySelector(".orderAmoute").textContent=e.amount,o.querySelector(".orderPrice").textContent=e.price+"dkk",t.querySelector(".orders").appendChild(o)})),t.querySelector(".optionsbut").id=e._id,document.querySelector("#modal").appendChild(t)}console.log(o),document.querySelector("#modal").innerHTML="",e.forEach((e=>{e.table_id==o&&(console.log("yes"),n(e))})),document.querySelector("#closingButton").classList.remove("hide"),document.querySelector("#modal").classList.remove("hide"),document.querySelectorAll(".optionsbut").forEach((e=>e.addEventListener("click",l))),document.querySelector("#closingButton").addEventListener("click",(()=>{document.querySelector("#modal").classList.add("hide"),document.querySelector("#closingButton").classList.add("hide")}))}console.log(e),e.forEach((e=>{document.querySelector(".t"+e.table_id.substring(5)+" .notification").classList.remove("hide"),document.querySelector(".t"+e.table_id.substring(5)+" .notification + img").classList.add("orderwating")})),document.querySelectorAll(".orderwating").forEach((e=>e.addEventListener("click",t)))}(e)}))}function c(e){const t=document.querySelector("template").content.cloneNode(!0);t.querySelector(".numberOrder").textContent=e._id.substring(6,10),t.querySelector(".tableOrder").textContent=e.table_id,document.querySelector(".orderList").appendChild(t)}function l(){let e=event.target.id;console.log(e),fetch("https://foobar-1293.restdb.io/rest/foormidable/"+e,{method:"delete",headers:{"Content-Type":"application/json; charset=utf-8","x-apikey":"60a4dea0e3b6e02545edaa5d","cache-control":"no-cache"}}).then((e=>e.json())).then((e=>console.log(e)))}e.addEventListener("change",(function(){this.checked?(document.documentElement.setAttribute("data-theme","dark"),document.querySelector("#mode").innerHTML="Light Mode",document.querySelector(".logo").src="./Images/logolight.png"):(document.documentElement.setAttribute("data-theme","light"),document.querySelector(".logo").src="./Images/logo.png",document.querySelector("#mode").innerHTML="Dark Mode")})),n(),r();document.querySelectorAll(".liquidDiv").forEach((e=>{const t=1e3*Math.random()+.2;e.style.setProperty("--animation-time",t+"s")}));
